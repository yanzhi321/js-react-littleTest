<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			
			.loading {
			    position: absolute;
			    top: 50%;
			    left: 50%;
			    width: 80px;
			    height: 80px;
			    margin: -40px 0 0 -40px;
			    background: rgba(0,0,0,0.7);
			    border-radius: 10px;
			    text-align: center;
			    z-index: 11;
			}
			.loading::after {
			    display: block;
			    content: " ";
			    width: 65px;
			    height: 65px;
			    margin: 7px auto 0;
			    background: url(img/loading.png) center no-repeat;
			    background-size: 45px auto;
			    -webkit-animation: loading 1s step-start infinite;
			}
			
		</style>
	</head>
	<body>
		<div class="box">
			<i class="loading"></i>
		</div>
	</body>
</html>
<script>
	
const Counter = ({ value }) => (
  <h1>{value}</h1>
  <button onClick={onIncrement}>+</button>
  <button onClick={onDecrement}>-</button>
);

const reducer = (state = 0, action) => {
  switch (action.type) {
    case 'INCREMENT': return state + 1;
    case 'DECREMENT': return state - 1;
    default: return state;
  }
};

const store = createStore(reducer);

const render = () => {
  ReactDOM.render(
    <Counter
      value={store.getState()}
      onIncrement={() => store.dispatch({type: 'INCREMENT'})}
      onDecrement={() => store.dispatch({type: 'DECREMENT'})}
    />,
    document.getElementById('root')
  );
};

render();
store.subscribe(render);

//下面加入一点变化，为Counter添加递增和递减的 Action。
const Counter = ({value}) => (
	<h1>{value}</h1>
	<button onClick={onIncrement}>+</button>
	<button onClick={onIncrement}>-</button>
);

const reducer = (state = 0, action) => {
	switch (action.type) {
		case 'INCREMENT': return state + 1;
		case 'DECREMENt': return state - 1;
		default: return state;
	}
}

const store = createStore(reducer);
const  render = () => {
	ReactDOM.render(
		<Counter
			value={store.getState()}
			onIncrement={() => store.dispatch({type: 'INCREMENT'})}
			onDecrement={() =>store.dispatch({type: 'DECREMENT'})}
		/>,
		document.getElementById('root');
	)
}

render();
store.subscribe(render);

//store（存放状态） -> container（显示状态） -> reducer （处理动作）-> store
	
</script>