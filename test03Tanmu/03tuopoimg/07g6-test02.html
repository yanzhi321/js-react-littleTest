<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>统一分层布局 DAGRE</title>
    <style>::-webkit-scrollbar{display:none;}html,body{overflow:hidden;}</style>
</head>
<body>
<div id="mountNode"></div>
<script>/*Fixing iframe window.innerHeight 0 issue in Safari*/document.body.clientHeight;</script>
<script src="https://gw.alipayobjects.com/os/antv/assets/g6/1.2.1/g6.min.js"></script>
<script src="https://gw.alipayobjects.com/os/antv/assets/g6-plugins/1.0.1/g6-plugins.min.js"></script>
<script type="text/javascript">
const data = {
  "nodes": [
    {
      "shape": "rect",
      "label": "流程b1",
      "id": "e4d76a7f"
    },
    {
      "shape": "rect",
      "label": "流程a1",
      "id": "f1484ff9"
    },
    {
      "shape": "rect",
      "label": "开始",
      "id": "827c30fc"
    },
    {
      "shape": "rect",
      "label": "结束",
      "id": "6ca66cc0"
    },
    {
      "shape": "rect",
      "label": "流程a3",
      "id": "c06c2256"
    },
    {
      "shape": "rect",
      "label": "流程b2",
      "id": "1de16a07"
    },
    {
      "shape": "rect",
      "label": "流程a2",
      "id": "3b63e239"
    }
  ],
  "edges": [
    {
      "source": "827c30fc",
      "target": "e4d76a7f",
      "id": "52eaf313"
    },
    {
      "source": "827c30fc",
      "target": "f1484ff9",
      "id": "66daf43b"
    },
    {
      "source": "e4d76a7f",
      "target": "1de16a07",
      "id": "e5c4e030"
    },
    {
      "source": "f1484ff9",
      "target": "3b63e239",
      "id": "7ccbcdac"
    },
    {
      "source": "1de16a07",
      "target": "6ca66cc0",
      "id": "5fca64c8"
    },
    {
      "source": "3b63e239",
      "target": "1de16a07",
      "id": "0afb7710"
    },
    {
      "source": "f1484ff9",
      "target": "c06c2256",
      "id": "c511e9b6"
    },
    {
      "source": "c06c2256",
      "target": "6ca66cc0",
      "id": "e558b462"
    }
  ]
};
const dagre = new G6.Plugins['layout.dagre']({
  rankdir: 'LR',
  nodesep: 100,
  ranksep: 100,
});
const net = new G6.Net({
  id: 'mountNode',
  height: window.innerHeight,
  fitView: 'autoZoom',
  plugins: [dagre]
});
net.source(data.nodes, data.edges);
net.edge().shape('arrow');
net.render();
</script>
</body>
</html>
