<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>array sort</title>
</head>
<body>
    

    <script>
        
        let arr = [
            {"age": 10, "name": "ten"},
            {"age": 20, "name": "twenty"},
            {"age": 0, "name": "zero"}
        ]
        
        let count = 0, count2 = 0
        for(let i = 0; i<arr.length; i++){
            for(let j = 0; j<arr.length-1-i; j++){
               
                if(arr[j].age > arr[j+1].age){
                    let item = arr[j]
                        arr[j] = arr[j+1]
                        arr[j+1] = item
                }
                console.log(++count2, 'count2', j)
            }
            
            console.log(++count, 'count', i)
        }
        //冒泡
        function arrSort(arr, objEle){
            for(let i = 0; i<arr.length; i++){
                for(let j = 0; j<arr.length-1-i; j++){
                    if(arr[j].objEle > arr[j+1].objEle){
                        let item = arr[j]
                            arr[j] = arr[j+1]
                            arr[j+1] = item
                    }
                }
            }
            return arr
        }
        let age
        console.log(arrSort(arr, age))


        function quickSort(arr){
            //如果数组<=1,则直接返回
            if(arr.length<=1){return arr;}
            var pivotIndex=Math.floor(arr.length/2);

            //找基准，并把基准从原数组删除
            var pivot=arr.splice(pivotIndex,1)[0];

            console.log(pivotIndex, pivot)
            
            //定义左右数组
            var left=[];
            var right=[];

            //比基准小的放在left，比基准大的放在right
            for(var i=0;i<arr.length;i++){
                if(arr[i]<=pivot){
                    left.push(arr[i]);
                }
                else{
                    right.push(arr[i]);
                }
            }
            //递归
            return quickSort(left).concat([pivot],quickSort(right));
        }
        
        let arr2 = [2, 30, 10]
        console.log(quickSort(arr2))

        // function arrObjSort(arr, age){
        //     if(arr.length <= 1){
        //         return arr;
        //     }
        //     let pivotIndex = Math.floor(arr.length / 2)
        //     let pivot = arr.splice(pivotIndex, 1)
        //     let pivotAge = pivot[0].age
        //     let left = []
        //     let right = []

        //     for(let i = 0; i<arr.length; i++){
        //         if(arr[i].age <= pivotAge){
        //             left.push(arr[i])
        //         }else{
        //             right.push(arr[i])
        //         }
        //     }
        //     return arrObjSort(left).concat(pivot, arrObjSort(right))
        // }
        // let age2
        // console.log(arrObjSort(arr, age2))
        
         const url = 'http://www.phonegap100.com/appapi.php?a=getPortalArticle&aid=121'
        
        fetch(url, {
            method: 'GET',
            headers: new Headers({
                'Accept': 'application/json' // 通过头指定，获取的数据类型是JSON
            })
        })
        .then(function(response) {
            return response.json()
        }).then(function(json) {
            console.log('parsed json', json)
        }).catch(function(ex) {
            console.log('parsing failed', ex)
        })
        
        // http://www.cnblogs.com/hfxm/p/6256831.html

    </script>
</body>
</html>