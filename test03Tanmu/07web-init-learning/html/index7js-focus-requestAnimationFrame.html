<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="keywords" content="HTML, CSS, XML" />
	<!-- 描述 -->
	<meta name="description" content="Free Web tutorials on HTML, CSS, JavaScript 不超过150个字符">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
	<!-- 以下代码告诉IE浏览器，IE8/9及以后的版本都会以最高版本IE来渲染页面。   -->
    <!-- GCF(Google Chrome Frame谷歌内嵌浏览器框架GCF)，则使用GCF来渲染页面，如果没有安装，则使用最高版本的IE内核进行渲染 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>js-focus</title>
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="stylesheet" type="text/css" href="normalize/normalize.css">
	<link rel="stylesheet" type="text/css" href="iconfont/iconfont.css">
</head>
<body>
	<div class="container">
		<div id="test" style="height:30px;width:100px;background:lightgreen">div</div>
		<button id="btn2">div元素获得焦点</button>

		<h2>requestAnimationFrame</h2>
		<div id="myDiv" style="background-color: lightblue;width: 0;height: 20px;line-height: 20px;">0%</div>
		<button id="btn">run</button>

	</div>
	
	<script>
		//tabIndex- focus
		btn2.onclick = function(){
		    test.tabIndex = -1;
		    test.focus();    
		}
		test.onfocus = function(){
		    this.style.background = 'pink';
		}


		//HTML5新增的定时器requestAnimationFrame
		//requestAnimationFrame是由浏览器专门为动画提供的API
		// cancelAnimationFrame方法用于取消定时器
		//控制台输出1和0
		var timer3 = requestAnimationFrame(function(){
		    console.log(0);
		}); 
		console.log(timer3);//1

		let timer2 = requestAnimationFrame(function(){
			console.log(11111)
		})
		// cancelAnimationFrame(timer2)
		cancelAnimationFrame(2)

		//requestAnimationFrame进度条
		// var timer;
		// btn.onclick = function(){
		//     myDiv.style.width = '0';
		//     cancelAnimationFrame(timer);
		//     timer = requestAnimationFrame(function fn(){
		//         if(parseInt(myDiv.style.width) < 500){
		//             myDiv.style.width = parseInt(myDiv.style.width) + 5 + 'px';
		//             myDiv.innerHTML =     parseInt(myDiv.style.width)/5 + '%';
		//             timer = requestAnimationFrame(fn);
		//         }else{
		//             cancelAnimationFrame(timer);
		//         }    
		//     });
		// }

		let timer4;
		btn.onclick = function(){
			myDiv.style.width = 0
			clearInterval(timer4)
			timer4 = setInterval(function(){
				if(parseInt(myDiv.style.width) < 500){
					myDiv.style.width = parseInt(myDiv.style.width) + 5 + 'px'
					myDiv.innerHTML = parseInt(myDiv.style.width) / 5  + '%'
				}else{
					clearInterval(timer4)
				}
			}, 50)
		}


	</script>

</body>
</html>