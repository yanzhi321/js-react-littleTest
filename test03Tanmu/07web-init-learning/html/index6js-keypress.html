<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="keywords" content="HTML, CSS, XML" />
	<!-- 描述 -->
	<meta name="description" content="Free Web tutorials on HTML, CSS, JavaScript 不超过150个字符">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
	<!-- 以下代码告诉IE浏览器，IE8/9及以后的版本都会以最高版本IE来渲染页面。   -->
    <!-- GCF(Google Chrome Frame谷歌内嵌浏览器框架GCF)，则使用GCF来渲染页面，如果没有安装，则使用最高版本的IE内核进行渲染 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>js-keypress</title>
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="stylesheet" type="text/css" href="normalize/normalize.css">
	<link rel="stylesheet" type="text/css" href="iconfont/iconfont.css">
</head>
<body>
	<div class="container"></div>
	<button id="test" style="height: 30px;width: 200px;background-color: pink;">请按下键盘上的任意键</button><br>
	<button id="reset">还原</button>
	
	<button id="btn">获取间隔时间</button>
	<span>说明：按钮获取焦点后，使用空格键按下一段时间，松开后可获取keydown事件的时间间隔</span>
	<div id="result"></div>
	
	<button type="button" class="key-code">keyCode</button>

	<div class="keyBox" style="width: 300px; height: 300px; border: 1px solid #ccc"></div>
	<script>

		//rest
		reset.onclick = function(){history.go();}
		test.focus();
		console.log(test.mark)
		test.onkeypress = function(e){
			console.log(e.type)
		    if(!test.mark){
		        test.innerHTML ='';
		    }
		    test.mark = 1;
		    e = e || event;
		    test.innerHTML += e.type;
		}

		// btn
		var time = [];
		var last=0;
		btn.onkeydown = function(e){
		    e = e || event;
		    time.push(e.timeStamp-last);
		    console.log(e.timeStamp)
		    last = e.timeStamp;
		}
		btn.onclick = function(){
		    time.shift();
		    result.innerHTML = time.join();
		}

		// keycode : 做游戏时，常用的四个方向按键，左上右下(顺时针)的键码分别是37、38、39、40
		const keyClick = document.querySelector('.key-code')
		// document.onkeydown = function(evt){
		// 	let e = evt || event
		// 	console.log(e.keyCode)
		// }

		//　一般地，使用key属性和keyCode属性来实现兼容处理。key属性IE8-浏览器不支持，而keyCode属性无法区分大小写字母
		

		// document.onkeyup=function(e){
		//     e = e || event;
		//        if(e.shiftKey){keyBox.innerHTML = 'shiftKey;'}
		//        if(e.ctrlKey){keyBox.innerHTML = 'ctrlKey;'}
		//        if(e.altKey){keyBox.innerHTML = 'altKey;'}
		//        if(e.metaKey){keyBox.innerHTML = 'metaKey;'}
		// }
		// document.onkeydown = function(){
		//     return false;
		// }

		let keyBox = document.querySelector('.keyBox')

		function ctrlFun(){
			keyBox.onkeyup = function(evt){
				let e = evt || event
				if(e.shiftKey){
					console.log('shiftKey')
				}
				if(e.ctrlKey){
					console.log('ctrlKey')
				}
				if(e.altKey){
					console.log('altKey')
				}
				if(e.metaKey){
					console.log('metaKey')
				}
			}
		}

		ctrlFun()


		



	</script>
</body>
</html>